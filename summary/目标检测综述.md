文章内容来源

https://blog.csdn.net/jiaoyangwm/article/details/89111539

https://www.jianshu.com/p/468e08f739bd

https://www.sohu.com/a/399940704_99979179

# 1.前言

## 1.1定义

确定某张给定图像中是否存在给定类别的目标实例。如果存在，返回目标实例的空间位置和覆盖范围。它将目标的分割和识别合二为一，其准确性和实时性是整个系统的一项重要能力。它是一种基于目标几何和统计特征的图像分割。

## 1.2意义

目标检测是解决分割、场景理解、目标追踪、图像描述、事件检测和活动识别等更复杂更高层次的视觉任务的基础。近年来，目标检测在人工智能，人脸识别，无人驾驶等领域都得到了广泛的应用。

## 1.3过程

- 在给定图像上选择候选区域
- 对候选区域提取特征
- 使用分类器进行分类

## 1.4难点

### 1.4.1准确度

对类内形变的鲁棒性：

- 同类物体有很多不同实例（不同纹理材质颜色等）
- 目标实例的多样性（姿态/非刚性形变等）
- 采样过程的条件和环境的影响（光照/尺度/遮挡/阴影/污迹/角度/背景）
- 图像噪声（采样过程的噪声/滤波器影响/压缩的噪声等）

高的可区分性：

- 类间相似性
- 目标物体类别多样

### 1.4.2时间效率

- 实际中目标类别成千上万
- 需要定位并辨别目标类别
- 目标的可能定位数量太多
- 图像、视频数据太多

## 1.5发展

### 1.5.1历程

![目标检测发展](images\目标检测历程.png)

### 1.5.2分类

![算法分类](images\传统的检测算法.png)

# 2.传统目标检测算法

多基于滑动窗口的框架或是根据特征点进行匹配。

## 2.1总结

| 方法     | 分类     | 算法逻辑                                 | 优点                             | 缺点                         | 适用场合                                     |
| -------- | -------- | ---------------------------------------- | -------------------------------- | ---------------------------- | -------------------------------------------- |
| SIFT     | 实例检测 | 提取平移、缩放、旋转不变的描述子用以匹配 | 检测特征丰富，具有优秀的匹配效果 | 计算量大，检测速度慢         | 图像识别（无速度要求）、图像拼接、图像恢复等 |
| PCA-SIFT | 实例检测 | PCA降维减少运算                          | 检测速度获得改善                 | 不完全仿射不变，检测精度不高 | 特征点匹配                                   |
| SURF     | 实例检测 | 近似Hessian矩阵，积分图减少降采样        | 检测速度快，精度高，综合性能好   | 过于依赖主方向的选取准确度   | 物体识别、3D重构                             |
| ORB      | 实例检测 | Fast检测特征点，Brief计算特征点描述子    | 检测速度快，检测精度良好         | 不具备尺度不变性             | 实时视频处理                                 |
| VJ       | 类别检测 | Haar+AdaBoost检测目标，级联减少计算量    | 第一种能够实时检测的人脸检测算法 | 准确率一般，鲁棒性不足       | 人脸、物体检测                               |

## 2.2过程与分类

### 2.2.1检测步骤

1. 区域选择，采用不同大小的滑动窗口对图像进行遍历选择候选区域，，提取候选区域相关的视觉特征。
2. 特征提取，对区域提取特征
3. 分类器分类。使用训练完成的分类器进行分类。

#### 问题

区域选择时无针对想导致时间复杂且窗口冗余，手工设计的特征没有很好的鲁棒性。

### 2.2.2分类

#### 目标实例检测

利用模板和图像稳定的特征点，获得模板与场景中对象的对应关系，检测出目标实例。只关注具体目标本身，图像中的其余对象都是无关量。

#### 传统目标类别检测

通过AdaBoost等算法，根据选定的特征和分类器，检测出有限的几种类别。

## 2.3算法详述

### 2.3.1 SIFT

Lowe提出的SIFT算法，通过查找不易受光照、噪声、仿射变换影响的特征点来匹配目标，是目前应用极为广泛的关键点检测和描述算法。 

该算法通过使用高斯模糊实现尺度空间，高斯差分函数进行极值检测，再通过对边缘主曲率的判定，筛除边缘响应的不稳定点，得到匹配稳定、抗噪能力强的关键点。最后利用方向直方图统计关键点邻域梯度和方向，获得描述符。 

SIFT 算法通过一系列方法，保证提取的特征具有平移、缩放及旋转不变等特性，对于光线、噪声、少量视角改变也具有一定的鲁棒性，针对部分遮挡也有不错的识别率。但是，SIFT 算法存在复杂度高，检测速度慢，对模糊图像和光滑边缘很难提取有效特征点等问题。

### 2.3.2 PCA-SIFT

该算法在SIFT的基础上，对其最后一步做出了改进。引入主成分分析（PCA）方法，使用PCA替代直方图，来对描述子向量进行降维，以提高匹配效率。

相较SIFT，PCA-SIFT维数更少且灵活可变，检测速度约为SIFT的3倍。但降维损失部分信息，导致只对具有代表性的图像有较好效果，具有局限性。

### 2.3.3 SURF

SURF算法也是一种基于SIFT的改进算法，Hessian矩阵是该算法的核心。该算法利用高斯滤波保证尺度无关性，并用盒式（box）滤波器替代高斯滤波器，简化计算。通过构建Hessian矩阵，获取关键点定位。另外，在尺度空间中，不同于SIFT 构建不同尺度的图像，SURF 保持图像大小不变，只改变滤波器的大小，从减少了计算量。 

简单来说，SURF 算法利用近似的Hessian 矩阵减少降采样过程，快速构建尺度金字塔，实现了目标检测速度的提高。

### 2.3.4 AdaBoost

AdaBoost是一种是基于Boosting的机器学习算法。初始时，设训练集中n个样本具有相同的权重。在每次训练后调整训练集中数据权重，增加错误样本的权重，使得下一个分类器能够对错误样本进行重点训练。经过N轮训练后，将N个弱分类器整合，根据各分类器的性能分配相应的权值，组成一个高准确率、低错误率的强分类器。

### 2.3.5 Viola-Jones

Viola-Jones算法是第一种能实时处理且效果较好的人脸检测算法，此算法的提出标志着人脸检测进入实际应用阶段。

Viola-Jones 检测算法（简称VJ 算法）使用Haar  特征来描述窗口，反映局部区域的明暗变化，并利用积分图的思路解决Haar特征提取时计算量大、重复的缺点。同时，引入级联的思想。如下图所示，VJ根据分类器的复杂程度和计算代价排列，分类代价越高的分类器需要分类的图像越少，减少分类工作量。

概括地说，VJ 算法利用Haar-like 特征描述目标共有属性，利用积分图实现特征快速计算，使用级联分类器减少AdaBoost 的计算量，快速检测出目标。

# 3.基于深度学习的目标检测算法

## 3.1总结

| 模型         | 实时性 | 优点                                                       | 缺点                                         |
| ------------ | ------ | ---------------------------------------------------------- | -------------------------------------------- |
| OverFeat     | 否     | 最早使用CNN进行特征提取                                    | 图像滑窗，时间、空间开销大                   |
| R-CNN        | 否     | 确定候选区域，CNN提取特征，SVM分类，性能比传统算法显著提高 | 对每个候选区域都做特征提取，时间、空间开销大 |
| SPP-Net      | 否     | 整张图片提取特征，加快速度；SPP层，避免候选区域归一化      | 空间开销大                                   |
| Fast R-CNN   | 否     | 同时完成定位和分类，节省空间                               | 候选区域选取方法计算福大                     |
| Faster R-CNN | 较差   | 真正完成端到端训练和测试                                   | 模型复杂，小目标检测不加，空间量化粗糙       |
| R-FCN        | 较差   | 定位精度更高                                               | 模型复杂，计算量大                           |
| Mask R-CNN   | 较差   | 实例分析准确、训练精度更高                                 | 实例分割代价昂贵                             |
| YOLO         | 优秀   | 网络简单、检测速度优异                                     | 定位准确度低，小目标、多目标检测效果不佳     |
| SSD          | 优秀   | 网络简单，检测准确获得高                                   | 模型难收敛，小目标检测效果不佳               |
| YOLOv2 416   | 优秀   | 允许用户在精度和速度之间调整                               | 使用预训练，难迁移                           |
| DSOD300      | 较好   | 不需要预训练                                               | 检测速度一般                                 |
| R-SSD        | 较好   | 小目标检测效果较好                                         | 模型计算复杂，检测速度一般                   |

## 3.2过程与分类

two-stage：结合regionproposal、cnn网络的，基于分类的R-CNN系列目标检测框架。

single-stage：将目标检测转换为回归问题的算法。

## 3.3算法详述

### 3.3.1 LeNet-5



### 3.3.2 AlexNet



### 3.3.3 VGGNet



### 3.3.4 GoogleNet



### 3.3.5 ResNet



------

### 3.3.6 OverFeat

### 3.3.7 R-CNN

### 3.3.8 SPP-Net

### 3.3.9 Fast-RCNN

### 3.3.10 Faster-RCNN

### 3.3.11 F-RCN

### 3.3.12 Mask R-CNN

------

### 3.3.13 YOLO

### 3.3.14 SSD

### 3.3.15 YOLOv2以及YOLO9000

